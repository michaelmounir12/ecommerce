<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>My Website</title>
  <link rel="stylesheet" href="./style.css"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" /><body>

</head>
<body>
  <div class="cardBox">
   
    <div class="card">
        <div>
            <div id="sales" class="numbers">80</div>
            <div class="cardName">Sales</div>
        </div>

        <div class="iconBx">
          <i class="fa-solid fa-cart-shopping"></i>
        </div>
    </div>

   

    <div class="card">
        <div>
            <div id="earn" class="numbers">$7,842</div>
            <div class="cardName">Earning</div>
        </div>

        <div class="iconBx">
          <i style="margin-bottom: -14px;
          padding-bottom: 2px;
          padding-left: 15px;" class="fa-solid fa-money-bill"></i>
        </div>
    </div>
</div>

<!-- ================ Order Details List ================= -->
<div class="details">
    <div class="recentOrders">
        <div class="cardHeader">
            <h2>Recent Orders</h2>
            <a href="#" class="btn">View All</a>
        </div>

        <table>
            <thead>
                <tr>
                    <td>Name</td>
                    <td>Price</td>
                    <td>Payment</td>
                    <td>Status</td>
                </tr>
            </thead>

            <tbody id="bod">
                <tr>
                    <td>Star Refrigerator</td>
                    <td>$1200</td>
                    <td>Paid</td>
                    <td><span class="status delivered">Delivered</span></td>
                </tr>

                <tr>
                    <td>Dell Laptop</td>
                    <td>$110</td>
                    <td>Due</td>
                    <td><span class="status pending">Pending</span></td>
                </tr>

                <tr>
                    <td>Apple Watch</td>
                    <td>$1200</td>
                    <td>Paid</td>
                    <td><span class="status return">Return</span></td>
                </tr>

                <tr>
                    <td>Addidas Shoes</td>
                    <td>$620</td>
                    <td>Due</td>
                    <td><span class="status inProgress">In Progress</span></td>
                </tr>

                <tr>
                    <td>Star Refrigerator</td>
                    <td>$1200</td>
                    <td>Paid</td>
                    <td><span class="status delivered">Delivered</span></td>
                </tr>

                <tr>
                    <td>Dell Laptop</td>
                    <td>$110</td>
                    <td>Due</td>
                    <td><span class="status pending">Pending</span></td>
                </tr>

                <tr>
                    <td>Apple Watch</td>
                    <td>$1200</td>
                    <td>Paid</td>
                    <td><span class="status return">Return</span></td>
                </tr>

                <tr>
                    <td>Addidas Shoes</td>
                    <td>$620</td>
                    <td>Due</td>
                    <td><span class="status inProgress">In Progress</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- ================= New Customers ================ -->
    <div class="recentCustomers">
        <div class="cardHeader">
            <h2>Recent Customers</h2>
        </div>

        <table id="tab">
            <tr>
                <td width="60px">
                    <div class="imgBx"><img alt=""></div>
                </td>
                <td>
                    <h4>David <br> <span>Italy</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>Amit <br> <span>India</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img alt=""></div>
                </td>
                <td>
                    <h4>David <br> <span>Italy</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>Amit <br> <span>India</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>David <br> <span>Italy</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>Amit <br> <span>India</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>David <br> <span>Italy</span></h4>
                </td>
            </tr>

            <tr>
                <td width="60px">
                    <div class="imgBx"><img  alt=""></div>
                </td>
                <td>
                    <h4>Amit <br> <span>India</span></h4>
                </td>
            </tr>
        </table>
    </div>
</div>
</div>
<script >
    const numofsales = document.querySelector("#sales");
  const earning = document.querySelector("#earn");
  const tbody = document.querySelector("#bod");
  const table = document.querySelector("#tab");



  function createSale(order)
  {
  
       const tr = document.createElement("tr")
       const name = document.createElement("td")
       const price = document.createElement("td")
       const payStatus = document.createElement("td")
       const delStatus = document.createElement("td")
       const span = document.createElement("span")
  
       name.textContent = order.name;
       price.textContent = `${order.price} EGP`;
       payStatus.textContent = order.payStatus;
       span.classList.add("status",order.delStatus)
       span.textContent  = order.delStatus;
       delStatus.appendChild(span);
  
       tr.appendChild(name)
       tr.appendChild(price)
       tr.appendChild(payStatus)
       tr.appendChild(delStatus)
  
       tbody.appendChild(tr);
  
  }
  
  function createCustomer(customer)
  {
  
  const tr = document.createElement("tr")
  const td = document.createElement("td")
  const h4 = document.createElement("h4")
  h4.innerHTML = `${customer.name} <br> <span>${customer.country}</span>`
  td.appendChild(h4)
  tr.appendChild(td)
  table.appendChild(tr)
  
         
  }  
  
console.log(numofsales,earning,table,table)
  fetch("https://ecommerce-new.onrender.com/dash")
  .then(response => {
    if (response.ok) {
      return response.json(); // or response.text() for plain text response
    }
    throw new Error('Network response was not ok.');
  })
  .then(data => {
    console.log(data)
    numofsales.textContent = data.numofsales;
    earning.textContent =`${data.earning} EGP` ;
    data.customers.forEach((ele)=>
    {
       createCustomer(ele);
    })
    data.products.forEach((ele)=>
    {
       createSale(ele);
    })


  })
  .catch(error => {
    console.error('There was a problem with the fetch operation:', error);
  });
</script>
</body>
</html>